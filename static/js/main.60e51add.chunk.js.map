{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","services/ImagesApi.js","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","services/pandingImg.png","App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","axios","defaults","baseURL","api","fetchImages","a","searchQuery","currentPage","get","then","response","data","hits","modalRoot","document","querySelector","Modal","onClose","src","alt","useEffect","window","addEventListener","handleKeyDown","removeEventListener","createPortal","className","styles","Overlay","onClick","event","currentTarget","target","Modal__content","Button","type","Searchbar","onSubmit","useState","setSerchQuery","preventDefault","trim","alert","autoComplete","autoFocus","placeholder","value","onChange","e","toLowerCase","ImageGallery","children","style","ImageGalleryItem","url","ImageGalleryItemImage","spinner","display","alignItems","marginBottom","fontSize","LoadingImg","card","role","size","App","images","setImages","setCurrentPage","currentPageImages","setCurrentPageImages","setSearchQuery","isLoading","setIsLoading","error","setError","showModal","setShowModal","modalUrl","setModalUrl","modalAlt","setModalAlt","scrollWindow","toggleModal","searchImagesFetch","Api","fetchImage","imagesArr","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","prevPage","onClickImageGalleryItem","getAttribute","shouldRenderLoadMoreButton","length","map","id","tags","webformatURL","largeImageURL","Loader","name","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.60e51add.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2JsfO\",\"Modal__content\":\"Modal_Modal__content__t8_uY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2sT7D\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1yuaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3lteP\"};","import axios from 'axios';\r\n\r\nconst KEY = '21857755-e4f1c8434e57799dc3fa1e51f';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst  fetchImages= async({searchQuery =' ', currentPage =1 }) => {\r\n  \r\n  return axios\r\n    .get(\r\n      `?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\n\r\n\r\nconst api = {\r\n    fetchImages,\r\n\r\n};\r\n\r\nexport default api;\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\n\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst  Modal =({onClose, src, alt})=> {\r\n\r\n  useEffect(\r\n    () =>{\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n      return () => { window.removeEventListener('keydown', this.handleKeyDown) };\r\n  }\r\n    , []);\r\n\r\n\r\n   const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n   onClose();\r\n    }\r\n  };\r\n    \r\n    const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n    };\r\n\r\n  return  createPortal(\r\n      <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n            <div className={styles.Modal__content}>\r\n              <img src={src} alt={alt} />\r\n            </div>\r\n            </div>,\r\n            modalRoot,\r\n            );\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button =({onClick})=> {\r\n\r\n\r\n    return(\r\n        <button type=\"button\" className=\"Button\" onClick={onClick} >\r\n            Load more\r\n        </button>\r\n    )\r\n};\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\nexport default Button;\r\n","import React, { useState } from 'react';\r\n\r\n\r\nconst  Searchbar=({onSubmit})=> {\r\n\r\n  const [searchQuery, setSerchQuery] = useState('')\r\n\r\n  const handleNameChange = (e) => {\r\n        setSerchQuery( e.currentTarget.value.toLowerCase());\r\n    };\r\n\r\n   const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (searchQuery.trim() === '') {\r\n            alert('Enter query!');\r\n            return\r\n        }\r\n\r\n      onSubmit(searchQuery);\r\n        setSerchQuery( '' );\r\n\r\n    };\r\n\r\n  \r\n        return (\r\n          <header className=\"Searchbar\" onSubmit={handleSubmit}>\r\n          <form className=\"SearchForm\">\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Searc</span>\r\n            </button>\r\n\r\n              <input\r\n                className=\"SearchForm-input\"\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                value={searchQuery}\r\n               onChange={handleNameChange}\r\n              />\r\n          </form>\r\n            </header>\r\n      );\r\n    \r\n};\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport  style  from './ImageGallery.module.css';\r\n\r\n\r\n\r\nconst ImageGallery = ({ children }) => (\r\n  <ul className={style.ImageGallery}>{children}</ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style  from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ alt, src, url, onClick }) => (\r\n  \r\n  <li className={style.ImageGalleryItem}>\r\n    <img\r\n      onClick={onClick}\r\n      src={src}\r\n      alt={alt}\r\n      className={style.ImageGalleryItemImage}\r\n      url={url}\r\n    />\r\n  </li>\r\n);\r\nImageGalleryItem.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import { ImSpinner } from 'react-icons/im';\r\nimport pendingImage from '../../services/pandingImg.png';\r\n// import { useState } from 'react';\r\n\r\n\r\nconst styles = {\r\n  spinner: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n    fontSize: 24,\r\n  },\r\n};\r\n\r\n\r\n function LoadingImg({ searchQuery }) {\r\n    const card = {\r\n        src: pendingImage,\r\n        alt: ' ',\r\n        url: ' ',\r\n  \r\n  };\r\n\r\n  return (\r\n    <div role=\"alert\">\r\n      <div style={styles.spinner}>\r\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\r\n        Загружаем...{searchQuery}\r\n      </div>\r\n          <img src={card.src}\r\n              alt={card.alt}\r\n           url={card.url}   \r\n          />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingImg;","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\r\n// import { ToastContainer } from 'react-toastify';\r\nimport Api from './services/ImagesApi';\r\n\r\nimport Modal from './components/Modal';\r\nimport Button from './components/Button';\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGalleryItem';\r\nimport Loader from './components/Loader'\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n  const [images, setImages] = useState('');\r\n  const [currentPage, setCurrentPage] = useState('1');\r\n  const [currentPageImages, setCurrentPageImages] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [largeImageURL, setLargeImageURL] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalUrl, setModalUrl] = useState('');\r\n  const [modalAlt, setModalAlt] = useState('');\r\n\r\n  // useEffect(() => {\r\n  //   fetchImages()\r\n  // }, [searchQuery]);\r\n\r\n  useEffect(() => {\r\n    scrollWindow()\r\n  }, [currentPage]);\r\n  \r\n  const toggleModal = () => {\r\n    setShowModal(!showModal)\r\n  };\r\n\r\n  const handleFormSubmit = (searchQuery) => {\r\n    setSearchQuery(searchQuery);\r\n    setCurrentPage(1);\r\n    setImages([]);\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (searchQuery) {\r\n      searchImagesFetch();\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchQuery]);\r\n\r\n  const searchImagesFetch = () => {\r\n    setIsLoading(true);\r\n    Api.fetchImage(searchQuery, currentPageImages)\r\n      .then((imagesArr) => {\r\n        if (currentPageImages === 1) {\r\n          setImages(imagesArr.hits)\r\n        } else {\r\n          setImages((prevState) => [...prevState, ...imagesArr.hits]);\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => setError(error))\r\n      .finally(() =>{\r\n        setIsLoading(false);\r\n        setCurrentPageImages((prevPage) => prevPage + 1);\r\n      });\r\n  };\r\n  \r\n  const onClickImageGalleryItem = (e) => {\r\n    setModalUrl(e.currentTarget.getAttribute('url'));\r\n    setModalAlt(e.currentTarget.getAttribute('alt'));\r\n    toggleModal();\r\n  };\r\n\r\n  const scrollWindow = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const shouldRenderLoadMoreButton = !(currentPageImages.length < 12) && !isLoading;\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      {error && (\r\n        <p> something went wrong ... {error} </p>\r\n      )}\r\n      <ImageGallery>\r\n        { images && images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n          <ImageGalleryItem key={id} alt={tags} src={webformatURL} url={largeImageURL} onClick={onClickImageGalleryItem} />\r\n        ))}\r\n      </ImageGallery>\r\n      {isLoading && <Loader name={searchQuery} />}\r\n        \r\n      {shouldRenderLoadMoreButton &&\r\n        <Button onClick={searchImagesFetch} />}\r\n        \r\n\r\n      {showModal &&\r\n        (<Modal onClose={toggleModal}\r\n          src={modalUrl} alt={modalAlt}>\r\n          <button type=\"button\" onClick={toggleModal}>\r\n            Close\r\n          </button>\r\n        </Modal>)}\r\n    </>\r\n  )\r\n};\r\n\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}